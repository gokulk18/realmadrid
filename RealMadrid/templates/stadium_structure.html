<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Stadium of Light Seating Plan</title>
    <script src="https://d3js.org/d3.v7.min.js"></script>
    <style>
        .section { stroke: #000; stroke-width: 1; cursor: pointer; }
        .section:hover { opacity: 0.8; }
        .category1 { fill: #FFA500; }
        .category2 { fill: #FFFF00; }
        .premium-gold { fill: #90EE90; }
        .away-zone { fill: #9370DB; }
        .section-label { font-family: Arial, sans-serif; font-size: 10px; font-weight: bold; pointer-events: none; }
        .stand-label { font-family: Arial, sans-serif; font-size: 14px; font-weight: bold; }
    </style>
</head>
<body>
    <svg id="stadium-layout" width="800" height="600"></svg>

    <script>
        const svg = d3.select("#stadium-layout");
        const width = 800;
        const height = 600;

        const fieldWidth = 400;
        const fieldHeight = 250;
        const fieldX = (width - fieldWidth) / 2;
        const fieldY = (height - fieldHeight) / 2;

        function createSection(name, x, y, width, height, category, rotation = 0) {
            const sectionGroup = svg.append("g")
                .attr("transform", `translate(${x}, ${y}) rotate(${rotation}, ${width/2}, ${height/2})`);

            sectionGroup.append("rect")
                .attr("class", `section ${category}`)
                .attr("width", width)
                .attr("height", height);

            sectionGroup.append("text")
                .attr("class", "section-label")
                .attr("x", width / 2)
                .attr("y", height / 2)
                .attr("text-anchor", "middle")
                .attr("dominant-baseline", "central")
                .text(name);

            sectionGroup.on("click", function() {
                console.log(`Section ${name} clicked`);
                // Add booking logic here
            });
        }

        function createStandLabel(text, x, y, rotation = 0) {
            svg.append("text")
                .attr("class", "stand-label")
                .attr("x", x)
                .attr("y", y)
                .attr("text-anchor", "middle")
                .attr("transform", `rotate(${rotation}, ${x}, ${y})`)
                .text(text);
        }

        // Create sections
        const sectionWidth = 30;
        const sectionHeight = 20;

        // North Stand
        for (let i = 0; i < 10; i++) {
            createSection(`P${38 - i}`, fieldX + i * sectionWidth, fieldY - sectionHeight - 10, sectionWidth, sectionHeight, i < 8 ? "away-zone" : "category2");
        }
        createStandLabel("NORTH STAND", width / 2, fieldY - sectionHeight - 30);

        // East Stand
        for (let i = 0; i < 13; i++) {
            createSection(`U${i + 1}`, fieldX + fieldWidth + 10, fieldY + i * sectionHeight, sectionWidth, sectionHeight, "category2");
        }
        for (let i = 0; i < 10; i++) {
            createSection(`L${i + 1}`, fieldX + fieldWidth + 10 + sectionWidth, fieldY + (i + 1) * sectionHeight, sectionWidth, sectionHeight, "premium-gold");
        }
        createStandLabel("EAST STAND", fieldX + fieldWidth + 80, height / 2, 90);

        // South Stand
        for (let i = 0; i < 13; i++) {
            createSection(`U${39 - i}`, fieldX + fieldWidth - i * sectionWidth, fieldY + fieldHeight + 10, sectionWidth, sectionHeight, "category2");
        }
        createStandLabel("SOUTH STAND", width / 2, fieldY + fieldHeight + sectionHeight + 30);

        // West Stand
        for (let i = 0; i < 11; i++) {
            createSection(`P${i + 1}`, fieldX - sectionWidth - 10, fieldY + fieldHeight - i * sectionHeight, sectionWidth, sectionHeight, i < 3 ? "category2" : "category1");
        }
        for (let i = 0; i < 5; i++) {
            createSection(`P${i + 12}`, fieldX - 2 * sectionWidth - 20, fieldY + fieldHeight - (i + 6) * sectionHeight, sectionWidth, sectionHeight, "category2");
        }
        createStandLabel("WEST STAND", fieldX - 80, height / 2, -90);

        // Corner sections
        createSection("U35", fieldX + fieldWidth + 10, fieldY - sectionHeight, sectionWidth, sectionHeight, "category2", -45);
        createSection("U36", fieldX + fieldWidth + 10 + sectionWidth * 0.7, fieldY - sectionHeight * 1.7, sectionWidth, sectionHeight, "category2", -45);
        createSection("U13", fieldX + fieldWidth + 10, fieldY + fieldHeight, sectionWidth, sectionHeight, "category2", 45);
        createSection("U14", fieldX + fieldWidth + 10 + sectionWidth * 0.7, fieldY + fieldHeight + sectionHeight * 0.7, sectionWidth, sectionHeight, "category2", 45);
        createSection("U15", fieldX + fieldWidth - sectionWidth, fieldY + fieldHeight + 10, sectionWidth, sectionHeight, "category2", 45);
        createSection("U16", fieldX + fieldWidth - sectionWidth * 1.7, fieldY + fieldHeight + 10 + sectionHeight * 0.7, sectionWidth, sectionHeight, "category2", 45);
        createSection("P16", fieldX - sectionWidth - 10, fieldY + fieldHeight, sectionWidth, sectionHeight, "category2", -45);
        createSection("P18", fieldX - sectionWidth * 1.7 - 10, fieldY + fieldHeight - sectionHeight * 0.7, sectionWidth, sectionHeight, "category2", -45);

        // Add field
        svg.append("rect")
            .attr("x", fieldX)
            .attr("y", fieldY)
            .attr("width", fieldWidth)
            .attr("height", fieldHeight)
            .attr("fill", "#8BC34A")
            .attr("stroke", "white");

        // Add field markings
        svg.append("rect")
            .attr("x", width / 2 - 1)
            .attr("y", fieldY)
            .attr("width", 2)
            .attr("height", fieldHeight)
            .attr("fill", "white");

        svg.append("circle")
            .attr("cx", width / 2)
            .attr("cy", height / 2)
            .attr("r", 40)
            .attr("fill", "none")
            .attr("stroke", "white");

        // Add goal areas
        const goalAreaWidth = 60;
        const goalAreaHeight = 30;
        svg.append("rect")
            .attr("x", width / 2 - goalAreaWidth / 2)
            .attr("y", fieldY)
            .attr("width", goalAreaWidth)
            .attr("height", goalAreaHeight)
            .attr("fill", "none")
            .attr("stroke", "white");
        svg.append("rect")
            .attr("x", width / 2 - goalAreaWidth / 2)
            .attr("y", fieldY + fieldHeight - goalAreaHeight)
            .attr("width", goalAreaWidth)
            .attr("height", goalAreaHeight)
            .attr("fill", "none")
            .attr("stroke", "white");

        // Add legend
        const legendData = [
            { category: "category1", label: "CATEGORY 1" },
            { category: "category2", label: "CATEGORY 2" },
            { category: "premium-gold", label: "PREMIUM GOLD" },
            { category: "away-zone", label: "AWAY ZONE" }
        ];

        const legend = svg.append("g")
            .attr("transform", `translate(${width - 120}, ${height - 100})`);

        legendData.forEach((item, index) => {
            const legendItem = legend.append("g")
                .attr("transform", `translate(0, ${index * 20})`);

            legendItem.append("rect")
                .attr("width", 15)
                .attr("height", 15)
                .attr("class", `section ${item.category}`);

            legendItem.append("text")
                .attr("x", 20)
                .attr("y", 12)
                .attr("font-size", "10px")
                .text(item.label);
        });
    </script>
</body>
</html>